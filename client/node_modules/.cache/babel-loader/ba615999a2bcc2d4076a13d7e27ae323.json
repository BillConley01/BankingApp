{"ast":null,"code":"import _asyncToGenerator from\"/Users/williamconley/Documents/GitHub/BankingApp/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/williamconley/Documents/GitHub/BankingApp/client/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"/Users/williamconley/Documents/GitHub/BankingApp/client/node_modules/@babel/runtime/regenerator/index.js\";import{useState}from\"react\";import Card from\"../components/card.js\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var CreateAccount=function CreateAccount(){//shows input fields and hides them after from submitted\nvar _useState=useState(true),_useState2=_slicedToArray(_useState,2),show=_useState2[0],setShow=_useState2[1];//sets error messsage\nvar _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),status=_useState4[0],setStatus=_useState4[1];return/*#__PURE__*/_jsx(Card,{hdrcolor:\"greenyellow\",hdrtext:\"#282c34\",bodycolor:\"dodgerblue\",bodytext:\"#282c34\",header:\"Create Account\",status:status,body:show?/*#__PURE__*/_jsx(CreateForm,{setShow:setShow,setStatus:setStatus}):/*#__PURE__*/_jsx(CreateSuccess,{setShow:setShow})});};function CreateSuccess(props){return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h5\",{children:\"Success\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light\",onClick:function onClick(){return props.setShow(true);},children:\"Add another account\"})]});}var CreateForm=function CreateForm(props){//sets user properties\nvar _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),name=_useState6[0],setName=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),email=_useState8[0],setEmail=_useState8[1];var _useState9=useState(\"\"),_useState10=_slicedToArray(_useState9,2),password=_useState10[0],setPassword=_useState10[1];//for enabling submit button\nvar _useState11=useState(false),_useState12=_slicedToArray(_useState11,2),validTransaction=_useState12[0],setValidTransaction=_useState12[1];//to navigate to login page\nvar navigate=useNavigate();var handleCreate=function handleCreate(){console.log(name,email,password);if(!validate(name,\"name\"))return;if(!validate(email,\"email\"))return;if(!validate(password,\"password\"))return;if(password.length<8){alert(\"Password Requires a minimum of 8 Characters!\");return;}var url=\"/account/create/\".concat(name,\"/\").concat(email,\"/\").concat(password);_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var res,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(url);case 2:res=_context.sent;_context.next=5;return res.json();case 5:data=_context.sent;console.log(data);case 7:case\"end\":return _context.stop();}}},_callee);}))();alert(\"Account Successfully Created!\");clearForm();props.setShow(false);navigate(\"/login\");};var enableSubmit=function enableSubmit(){if(name===\"\"||email===\"\"||password===\"\"){setValidTransaction(false);}else setValidTransaction(true);console.log(\"valid \".concat(validTransaction));};var validate=function validate(field,label){if(!field){props.setStatus(\"Error: \"+label);setTimeout(function(){return props.setStatus(\"\");},3000);return false;}return true;};var clearForm=function clearForm(){setName(\"\");setEmail(\"\");setPassword(\"\");setValidTransaction(false);};return/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsx(\"label\",{children:\"Name\"}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"name\",placeholder:\"Enter name\",value:name,onChange:function onChange(e){setName(e.currentTarget.value);enableSubmit();}}),/*#__PURE__*/_jsx(\"label\",{children:\"Email address\"}),/*#__PURE__*/_jsx(\"input\",{type:\"input\",className:\"form-control\",id:\"email\",placeholder:\"Enter email\",value:email,onChange:function onChange(e){setEmail(e.currentTarget.value);enableSubmit();}}),/*#__PURE__*/_jsx(\"label\",{children:\"Password\"}),/*#__PURE__*/_jsx(\"input\",{type:\"password\",className:\"form-control\",id:\"password\",placeholder:\"Enter password\",value:password,onChange:function onChange(e){setPassword(e.currentTarget.value);enableSubmit();}}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-light ml-auto\",disabled:!validTransaction,onClick:handleCreate,children:\"Create Account\"})]});};export default CreateAccount;","map":{"version":3,"names":["useState","Card","useNavigate","CreateAccount","show","setShow","status","setStatus","CreateSuccess","props","CreateForm","name","setName","email","setEmail","password","setPassword","validTransaction","setValidTransaction","navigate","handleCreate","console","log","validate","length","alert","url","fetch","res","json","data","clearForm","enableSubmit","field","label","setTimeout","e","currentTarget","value"],"sources":["/Users/williamconley/Documents/GitHub/BankingApp/client/src/pages/createaccount.js"],"sourcesContent":["import { useState } from \"react\";\nimport Card from \"../components/card.js\";\nimport { useNavigate } from \"react-router-dom\";\n\n\nconst CreateAccount = () => {\n  //shows input fields and hides them after from submitted\n  const [show, setShow] = useState(true);\n  //sets error messsage\n  const [status, setStatus] = useState(\"\");\n\n  return (\n    <Card\n      hdrcolor=\"greenyellow\"\n      hdrtext=\"#282c34\"\n      bodycolor=\"dodgerblue\"\n      bodytext=\"#282c34\"\n      header=\"Create Account\"\n      status={status}\n      body={\n        show ? (\n          <CreateForm setShow={setShow} setStatus={setStatus} />\n        ) : (\n          <CreateSuccess setShow={setShow} />\n        )\n      }\n    />\n  );\n};\nfunction CreateSuccess(props) {\n  return (\n    <>\n      <h5>Success</h5>\n      <button\n        type=\"submit\"\n        className=\"btn btn-light\"\n        onClick={() => props.setShow(true)}\n      >\n        Add another account\n      </button>\n    </>\n  );\n}\nconst CreateForm = (props) => {\n  //sets user properties\n  const [name, setName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n\n  //for enabling submit button\n  const [validTransaction, setValidTransaction] = useState(false);\n\n  //to navigate to login page\n  const navigate = useNavigate();\n\n  const handleCreate = () => {\n    console.log(name, email, password);\n    if (!validate(name, \"name\")) return;\n    if (!validate(email, \"email\")) return;\n    if (!validate(password, \"password\")) return;\n    if (password.length < 8) {\n      alert(\"Password Requires a minimum of 8 Characters!\");\n      return;\n    }\n    const url = `/account/create/${name}/${email}/${password}`;\n    (async () => {\n      const res = await fetch(url);\n      const data = await res.json();\n      console.log(data);\n    })();\n  \n    alert(\"Account Successfully Created!\");\n    clearForm();\n    props.setShow(false);\n    navigate(\"/login\");\n  };\n\n  const enableSubmit = () => {\n    if (name === \"\" || email === \"\" || password === \"\") {\n      setValidTransaction(false);\n    } else setValidTransaction(true);\n    console.log(`valid ${validTransaction}`);\n  };\n\n  const validate = (field, label) => {\n    if (!field) {\n      props.setStatus(\"Error: \" + label);\n      setTimeout(() => props.setStatus(\"\"), 3000);\n      return false;\n    }\n    return true;\n  };\n\n  const clearForm = () => {\n    setName(\"\");\n    setEmail(\"\");\n    setPassword(\"\");\n    setValidTransaction(false);\n  };\n\n  return (\n    <form>\n      <label>Name</label>\n      <input\n        type=\"input\"\n        className=\"form-control\"\n        id=\"name\"\n        placeholder=\"Enter name\"\n        value={name}\n        onChange={(e) => {\n          setName(e.currentTarget.value);\n          enableSubmit();\n        }}\n      />\n      <label>Email address</label>\n      <input\n        type=\"input\"\n        className=\"form-control\"\n        id=\"email\"\n        placeholder=\"Enter email\"\n        value={email}\n        onChange={(e) => {\n          setEmail(e.currentTarget.value);\n          enableSubmit();\n        }}\n      />\n      <label>Password</label>\n      <input\n        type=\"password\"\n        className=\"form-control\"\n        id=\"password\"\n        placeholder=\"Enter password\"\n        value={password}\n        onChange={(e) => {\n          setPassword(e.currentTarget.value);\n          enableSubmit();\n        }}\n      />\n      <br />\n      <button\n        type=\"submit\"\n        className=\"btn btn-light ml-auto\"\n        disabled={!validTransaction}\n        onClick={handleCreate}\n      >\n        Create Account\n      </button>\n    </form>\n  );\n};\nexport default CreateAccount;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}